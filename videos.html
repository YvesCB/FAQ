<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Videos</title>
  <link rel="stylesheet" href="style.css">
  <link
			href="https://fonts.googleapis.com/css?family=Poppins:400,500&display=swap"
			rel="stylesheet"
    />
  <link rel="icon" href="img/GamePad.png">
</head>

<body>

  <header>
    <div class="logo-container">
      <img class="banner-img" src="img/banner.png" alt="logo">
    </div>
    <nav>
      <input type="checkbox" />
      <ul class="nav-links">
        <li><a class="nav-link" href="index.html">Home</a></li>
        <li><a class="nav-link" href="articles.html">Articles</a></li>
        <li><a class="nav-link" href="videos.html">Videos</a></li>
        <li><a class="nav-link" href="about.html">About</a></li>
      </ul>
    <div class="menu">
      <svg viewBox="0 0 100 80" width="30" height="30">
        <rect width="100" height="15"></rect>
        <rect y="30" width="100" height="15"></rect>
        <rect y="60" width="100" height="15"></rect>
      </svg>
    </div>
    </nav>
  </header>

  <main>
    <section class="articles">
      <article class="recent-yt-videos">
        <h2>Check out our 5 most recent YouTube uploads!</h2>
          <iframe class="latestVideoEmbed" vnum='0' cid="UC8UqIZlupjIQ3vxcAOEoNug" frameborder="0" allowfullscreen></iframe>
          <iframe class="latestVideoEmbed" vnum='1' cid="UC8UqIZlupjIQ3vxcAOEoNug" frameborder="0" allowfullscreen></iframe>
          <iframe class="latestVideoEmbed" vnum='2' cid="UC8UqIZlupjIQ3vxcAOEoNug" frameborder="0" allowfullscreen></iframe>
          <iframe class="latestVideoEmbed" vnum='3' cid="UC8UqIZlupjIQ3vxcAOEoNug" frameborder="0" allowfullscreen></iframe>
          <iframe class="latestVideoEmbed" vnum='4' cid="UC8UqIZlupjIQ3vxcAOEoNug" frameborder="0" allowfullscreen></iframe>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
          <script>
          var reqURL = "https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent("https://www.youtube.com/feeds/videos.xml?channel_id=");
          function loadVideo(iframe) {
            $.getJSON(reqURL + iframe.getAttribute('cid'),
              function(data) {
                var videoNumber = (iframe.getAttribute('vnum') ? Number(iframe.getAttribute('vnum')) : 0);
                console.log(videoNumber);
                var link = data.items[videoNumber].link;
                id = link.substr(link.indexOf("=") + 1);
                iframe.setAttribute("src", "https://youtube.com/embed/" + id + "?controls=0&autoplay=0");
              }
            );
          }
          var iframes = document.getElementsByClassName('latestVideoEmbed');
          for (var i = 0, len = iframes.length; i < len; i++) {
            loadVideo(iframes[i]);
          }
          </script>
        </div>
      </article>
    </section>
    <section class="side-bar">
      <div class="recent-yt">
        <h2>Recent Youtube video</h2>
        <div class="video-box">
          <iframe class="sidebar-latestVideoEmbed" vnum='0' cid="UC8UqIZlupjIQ3vxcAOEoNug" frameborder="0" allowfullscreen></iframe>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
          <script>
          var reqURL = "https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent("https://www.youtube.com/feeds/videos.xml?channel_id=");
          function loadVideo(iframe) {
            $.getJSON(reqURL + iframe.getAttribute('cid'),
              function(data) {
                var videoNumber = (iframe.getAttribute('vnum') ? Number(iframe.getAttribute('vnum')) : 0);
                console.log(videoNumber);
                var link = data.items[videoNumber].link;
                id = link.substr(link.indexOf("=") + 1);
                iframe.setAttribute("src", "https://youtube.com/embed/" + id + "?controls=0&autoplay=0");
              }
            );
          }
          var iframes = document.getElementsByClassName('sidebar-latestVideoEmbed');
          for (var i = 0, len = iframes.length; i < len; i++) {
            loadVideo(iframes[i]);
          }
          </script>
        </div>
      </div>
      <div>
        <h2>Countdown to the next Stream</h2>
        <p id="countdown"></p>
        <p><a href="https://twitch.tv/gamegrammar" id="livelink"></a></p>
        <script src="./countdown.js"></script>
      </div>
      <div>
        <h2>Discord</h2>
        <iframe class="discord-embed" src="https://discord.com/widget?id=285885482888593408&theme=dark" width="350" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
      </div>
      <div>
        <a href="https://www.patreon.com/bePatron?u=573071" data-patreon-widget-type="become-patron-button">Become a Patron!</a><script async src="https://c6.patreon.com/becomePatronButton.bundle.js"></script>
      </div>
    </section>
  </main>

  <footer>
    <p>Created 2020</p>
    <ul>
      <li><a class="footer-twitter" href="https://twitter.com/game_grammar" target="_blank">Twitter</a></li>
      <li><a class="footer-youtube" href="https://youtube.com/c/gamegrammar" target="_blank">YouTube</a></li>
      <li><a class="footer-twitch" href="https://twitch.tv/gamegrammar" target="_blank">Twitch</a></li>
    </ul>
    <p class="footer-comment">If there is an issue with the site, contact me on Discord or Twitter.</p>
  </footer>
  
</body>

</html>